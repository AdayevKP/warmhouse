<?plantuml 1.2026.0?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1219px" preserveAspectRatio="none" style="width:1008px;height:1219px;background:#FFFFFF;" version="1.1" viewBox="0 0 1008 1219" width="1008px" zoomAndPan="magnify"><defs/><g><!--cluster smarthouse_system--><g class="cluster" data-qualified-name="smarthouse_system" data-source-line="1593" id="ent0003"><rect fill="none" height="1206" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="769" x="233" y="7"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="116.25" x="559.375" y="51.7891">Smart House</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.4551" x="587.7725" y="66.7012">[system]</text></g><!--cluster sh_house_management--><g class="cluster" data-qualified-name="smarthouse_system.sh_house_management" data-source-line="1593" id="ent0006"><rect fill="none" height="658.5" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="513" x="465" y="356"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="215.125" x="613.9375" y="400.7891">House Management API</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="75.416" x="683.792" y="415.7012">[container]</text></g><!--entity sh_ui--><g class="entity" data-qualified-name="smarthouse_system.sh_ui" data-source-line="71" id="ent0004"><rect fill="#D58D43" height="131.75" rx="2.5" ry="2.5" style="stroke:#C07F3C;stroke-width:0.5;" width="204.9863" x="476.5" y="149"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.6719" x="543.1572" y="170.1387">&#171;container&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="74.125" x="521.501" y="187.8203">Browser</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="595.626" y="187.8203">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="35.2891" x="601.1963" y="187.8203">App</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67.3652" x="486.5" y="202.7324">[Container:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="553.8652" y="202.7324">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54.0938" x="557.6797" y="202.7324">Frontend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="611.7734" y="202.7324">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="24.8145" x="615.5879" y="202.7324">web</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="640.4023" y="202.7324">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="27.2695" x="644.2168" y="202.7324">app]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="576.7681" y="218.5576">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.7324" x="503.1895" y="234.8545">Provides</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="562.9219" y="234.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.7559" x="567.3721" y="234.8545">smart</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="608.1279" y="234.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.2188" x="612.5781" y="234.8545">house</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.4424" x="487.5249" y="251.1514">services</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="544.9673" y="251.1514">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.4395" x="549.4175" y="251.1514">interface</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="611.8569" y="251.1514">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.7539" x="616.3071" y="251.1514">via</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="637.061" y="251.1514">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.9502" x="641.5112" y="251.1514">web</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.3213" x="550.8325" y="267.4482">browser</text></g><!--entity sh_sessions_kv--><g class="entity" data-qualified-name="smarthouse_system.sh_sessions_kv" data-source-line="75" id="ent0005"><path d="M768.5,171 C768.5,161 877.228,161 877.228,161 C877.228,161 985.9561,161 985.9561,171 L985.9561,259.1563 C985.9561,269.1563 877.228,269.1563 877.228,269.1563 C877.228,269.1563 768.5,269.1563 768.5,259.1563 L768.5,171" fill="#D58D43" style="stroke:#C07F3C;stroke-width:0.5;"/><path d="M768.5,171 C768.5,181 877.228,181 877.228,181 C877.228,181 985.9561,181 985.9561,171" fill="none" style="stroke:#C07F3C;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.6719" x="841.3921" y="196.1387">&#171;container&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="91.2266" x="786.2554" y="213.8203">Key-Value</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="877.4819" y="213.8203">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85.1484" x="883.0522" y="213.8203">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67.3652" x="822.8354" y="228.7324">[Container:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="890.2007" y="228.7324">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6055" x="894.0151" y="228.7324">Redis]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="875.0029" y="244.5576">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6045" x="778.5" y="260.8545">Stores</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="823.1045" y="260.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.5537" x="827.5547" y="260.8545">active</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="870.1084" y="260.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.8301" x="874.5586" y="260.8545">users</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="912.3887" y="260.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1172" x="916.8389" y="260.8545">sessions</text></g><!--entity sh_house_db--><g class="entity" data-qualified-name="smarthouse_system.sh_house_db" data-source-line="75" id="ent0013"><path d="M493.5,1131 C493.5,1121 576.0391,1121 576.0391,1121 C576.0391,1121 658.5781,1121 658.5781,1131 L658.5781,1186.5625 C658.5781,1196.5625 576.0391,1196.5625 576.0391,1196.5625 C576.0391,1196.5625 493.5,1196.5625 493.5,1186.5625 L493.5,1131" fill="#D58D43" style="stroke:#C07F3C;stroke-width:0.5;"/><path d="M493.5,1131 C493.5,1141 576.0391,1141 576.0391,1141 C576.0391,1141 658.5781,1141 658.5781,1131" fill="none" style="stroke:#C07F3C;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.6719" x="540.2031" y="1156.1387">&#171;container&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85.1484" x="533.4648" y="1173.8203">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67.3652" x="503.5" y="1188.7324">[Container:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="570.8652" y="1188.7324">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="73.8984" x="574.6797" y="1188.7324">PostgreSQL]</text></g><!--entity sh_devices_updates_queue--><g class="entity" data-qualified-name="smarthouse_system.sh_devices_updates_queue" data-source-line="79" id="ent0026"><path d="M254,488 L444.0723,488 C449.0723,488 449.0723,540.7266 449.0723,540.7266 C449.0723,540.7266 449.0723,593.4531 444.0723,593.4531 L254,593.4531 C249,593.4531 249,540.7266 249,540.7266 C249,540.7266 249,488 254,488" fill="#D58D43" style="stroke:#C07F3C;stroke-width:0.5;"/><path d="M444.0723,488 C439.0723,488 439.0723,540.7266 439.0723,540.7266 C439.0723,593.4531 444.0723,593.4531 444.0723,593.4531" fill="none" style="stroke:#C07F3C;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.6719" x="308.2002" y="504.1387">&#171;container&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="69.9063" x="268.9385" y="521.8203">Devices</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="338.8447" y="521.8203">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="74.7188" x="344.415" y="521.8203">Updates</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48.1465" x="286.333" y="536.7324">[Queue:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="334.4795" y="536.7324">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.4453" x="338.2939" y="536.7324">RabbitMQ]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="341.811" y="552.5576">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="268.8135" y="568.8545">New</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="299.3496" y="568.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.7295" x="303.7998" y="568.8545">devices,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="361.5293" y="568.8545">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2793" x="365.9795" y="568.8545">devices</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0723" x="254" y="585.1514">updates,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="315.0723" y="585.1514">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2793" x="319.5225" y="585.1514">devices</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="372.8018" y="585.1514">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8203" x="377.252" y="585.1514">deletion</text></g><!--entity api_component--><g class="entity" data-qualified-name="smarthouse_system.sh_house_management.api_component" data-source-line="63" id="ent0007"><rect fill="#F0BB85" height="66.5625" rx="2.5" ry="2.5" style="stroke:#D8A878;stroke-width:0.5;" width="168.6113" x="494.5" y="507"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.6992" x="537.4561" y="528.1387">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="29.3203" x="538.6338" y="545.8203">Api</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="567.9541" y="545.8203">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="45.4531" x="573.5244" y="545.8203">layer</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.25" x="504.5" y="560.7324">[Handles</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="557.75" y="560.7324">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="30.9199" x="561.5645" y="560.7324">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="592.4844" y="560.7324">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56.8125" x="596.2988" y="560.7324">requests]</text></g><!--entity auth_component--><g class="entity" data-qualified-name="smarthouse_system.sh_house_management.auth_component" data-source-line="63" id="ent0008"><rect fill="#F0BB85" height="85.1875" rx="2.5" ry="2.5" style="stroke:#D8A878;stroke-width:0.5;" width="166.4297" x="795" y="498"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.6992" x="836.8652" y="519.1387">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="146.4297" x="805" y="536.8203">Authentification</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="100.875" x="827.7773" y="555.4453">component</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38.2852" x="807.4277" y="570.3574">[Users</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="845.7129" y="570.3574">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99.4746" x="849.5273" y="570.3574">authentification]</text></g><!--entity message_handler--><g class="entity" data-qualified-name="smarthouse_system.sh_house_management.message_handler" data-source-line="63" id="ent0009"><rect fill="#F0BB85" height="80.5313" rx="2.5" ry="2.5" style="stroke:#D8A878;stroke-width:0.5;" width="183.2734" x="481.5" y="698"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.6992" x="531.7871" y="719.1387">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="88.4453" x="491.5" y="736.8203">Messages</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="579.9453" y="736.8203">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="69.2578" x="585.5156" y="736.8203">handler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.25" x="495.5967" y="751.7324">[Handles</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="548.8467" y="751.7324">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45.668" x="552.6611" y="751.7324">devices</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="598.3291" y="751.7324">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48.5332" x="602.1436" y="751.7324">updates</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="64.8633" x="540.7051" y="765.7012">messages]</text></g><!--entity repository--><g class="entity" data-qualified-name="smarthouse_system.sh_house_management.repository" data-source-line="63" id="ent0010"><rect fill="#F0BB85" height="66.5625" rx="2.5" ry="2.5" style="stroke:#D8A878;stroke-width:0.5;" width="188.6328" x="481.5" y="931.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.6992" x="534.4668" y="952.6387">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="69.9063" x="491.5" y="970.3203">Devices</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="561.4063" y="970.3203">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="93.1563" x="566.9766" y="970.3203">repository</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61.9395" x="520.3809" y="985.2324">[Database</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="582.3203" y="985.2324">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45.1172" x="586.1348" y="985.2324">access]</text></g><!--entity service--><g class="entity" data-qualified-name="smarthouse_system.sh_house_management.service" data-source-line="63" id="ent0011"><rect fill="#F0BB85" height="113.125" rx="2.5" ry="2.5" style="stroke:#D8A878;stroke-width:0.5;" width="206.4746" x="700" y="682"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.6992" x="761.8877" y="703.1387">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="56.1484" x="713.1162" y="720.8203">House</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="769.2646" y="720.8203">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="118.5234" x="774.835" y="720.8203">management</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="64.5156" x="770.9795" y="739.4453">service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="34.4824" x="710" y="754.3574">[Runs</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="744.4824" y="754.3574">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69.9609" x="748.2969" y="754.3574">commands,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="818.2578" y="754.3574">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="26.3965" x="822.0723" y="754.3574">runs</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="848.4688" y="754.3574">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="44.1914" x="852.2832" y="754.3574">custom</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69.9609" x="725.1758" y="768.3262">commands,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="795.1367" y="768.3262">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="34.3418" x="798.9512" y="768.3262">saves</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="833.293" y="768.3262">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="44.1914" x="837.1074" y="768.3262">custom</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70.8281" x="767.8232" y="782.2949">commands]</text></g><!--entity devices_component--><g class="entity" data-qualified-name="smarthouse_system.sh_house_management.devices_component" data-source-line="63" id="ent0012"><rect fill="#F0BB85" height="66.5625" rx="2.5" ry="2.5" style="stroke:#D8A878;stroke-width:0.5;" width="207.2031" x="705.5" y="931.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82.6992" x="767.752" y="952.6387">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="69.9063" x="715.5" y="970.3203">Devices</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="785.4063" y="970.3203">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.7266" x="790.9766" y="970.3203">componenet</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.6406" x="757.1992" y="985.2324">[Contols</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="806.8398" y="985.2324">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="50.3496" x="810.6543" y="985.2324">devices]</text></g><!--entity smart_device--><g class="entity" data-qualified-name="smart_device" data-source-line="212" id="ent0002"><rect fill="#999999" height="134.0781" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="210.0938" x="7" y="898"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="113.9941" x="55.0498" y="919.1387">&#171;external_system&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="54.5313" x="47.957" y="936.8203">Smart</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="5.5703" x="102.4883" y="936.8203">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="68.0781" x="108.0586" y="936.8203">devices</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="109.8218" y="953.5889">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3486" x="23.4395" y="969.8857">Smart</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="65.7881" y="969.8857">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9854" x="70.2383" y="969.8857">device</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="116.2236" y="969.8857">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.4307" x="120.6738" y="969.8857">that</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="149.1045" y="969.8857">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.1494" x="153.5547" y="969.8857">can</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="178.7041" y="969.8857">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17.5" x="183.1543" y="969.8857">be</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.4043" x="26.6934" y="986.1826">installed</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="86.0977" y="986.1826">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14.0547" x="90.5479" y="986.1826">to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="104.6025" y="986.1826">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.6787" x="109.0527" y="986.1826">user's</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="150.7314" y="986.1826">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.2188" x="155.1816" y="986.1826">house</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.3389" x="17" y="1002.4795">and</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="43.3389" y="1002.4795">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.1494" x="47.7891" y="1002.4795">can</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="72.9385" y="1002.4795">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.5527" x="77.3887" y="1002.4795">communicate</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="172.9414" y="1002.4795">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.7021" x="177.3916" y="1002.4795">with</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3486" x="39.1792" y="1018.7764">Smart</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="81.5278" y="1018.7764">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.873" x="85.978" y="1018.7764">House</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="129.8511" y="1018.7764">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6133" x="134.3013" y="1018.7764">system</text></g><!--link sh_ui to api_component--><g class="link" data-entity-1="ent0004" data-entity-2="ent0007" data-link-type="dependency" data-source-line="1706" id="lnk14"><path d="M579,281.08 C579,349.34 579,445.9 579,498.65" fill="none" id="sh_ui-to-api_component" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="579,506.65,582,498.65,576,498.65,579,506.65" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="21.9902" x="589.2227" y="323.1387">Api</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="611.2129" y="323.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="30.5801" x="615.3906" y="323.1387">calls</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75.1934" x="580" y="337.1074">[HTTP/REST]</text></g><!--link repository to sh_house_db--><g class="link" data-entity-1="ent0010" data-entity-2="ent0013" data-link-type="dependency" data-source-line="1706" id="lnk15"><path d="M576,998.57 C576,1032.49 576,1077.52 576,1113" fill="none" id="repository-to-sh_house_db" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="576,1121,579,1113,573,1113,576,1121" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="89.877" x="577" y="1074.1387">Reads/Writes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="33.1113" x="605.3828" y="1088.1074">[SQL]</text></g><!--reverse link smart_device to devices_component--><g class="link" data-entity-1="ent0002" data-entity-2="ent0012" data-link-type="dependency" data-source-line="1758" id="lnk17"><path d="M203.6462,893.3675 C232.4762,874.4275 259.28,860.73 293,851 C395.83,821.32 654.03,886.23 688,898 C711.94,906.29 736.7,919.13 757.53,931.36" fill="none" id="smart_device-backto-devices_component" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="196.96,897.76,205.2934,895.8748,201.999,890.8601,196.96,897.76" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="49.6055" x="294" y="844.1387">Control</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="343.6055" y="844.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.0586" x="347.7832" y="844.1387">devices</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78.7852" x="307.0283" y="858.1074">[HTTP/MQTT]</text></g><!--reverse link sh_sessions_kv to auth_component--><g class="link" data-entity-1="ent0005" data-entity-2="ent0008" data-link-type="dependency" data-source-line="1744" id="lnk19"><path d="M877.185,277.06 C877.385,341.05 877.69,439.29 877.87,497.74" fill="none" id="sh_sessions_kv-backto-auth_component" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="877.16,269.06,874.185,277.0693,880.185,277.0506,877.16,269.06" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="41.209" x="878" y="330.1387">Reads</text></g><!--link api_component to service--><g class="link" data-entity-1="ent0007" data-entity-2="ent0011" data-link-type="dependency" data-source-line="1706" id="lnk20"><path d="M616.24,574.09 C649.71,603.37 693.5396,641.7217 733.3196,676.5317" fill="none" id="api_component-to-service" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="739.34,681.8,735.2952,674.2741,731.344,678.7894,739.34,681.8" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="39.8438" x="705" y="635.1387">Saves</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="744.8438" y="635.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="25.2305" x="749.0215" y="635.1387">and</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="774.252" y="635.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="30.1465" x="778.4297" y="635.1387">runs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72.7383" x="720.4189" y="649.1074">commands</text></g><!--link message_handler to repository--><g class="link" data-entity-1="ent0009" data-entity-2="ent0010" data-link-type="dependency" data-source-line="1706" id="lnk21"><path d="M537.5,779.36 C527.59,792.9 518.13,808.75 513,825 C507.24,843.22 507.53,849.69 513,868 C519.91,891.11 529.52,907.4502 542.84,924.9802" fill="none" id="message_handler-to-repository" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="547.68,931.35,545.2286,923.1652,540.4513,926.7952,547.68,931.35" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="56.0391" x="514" y="851.1387">Updates</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="570.0391" y="851.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43.916" x="574.2168" y="851.1387">device</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="618.1328" y="851.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="30.5215" x="622.3105" y="851.1387">data</text></g><!--link service to devices_component--><g class="link" data-entity-1="ent0011" data-entity-2="ent0012" data-link-type="dependency" data-source-line="1706" id="lnk22"><path d="M814.24,795.43 C815.81,805.24 817.16,815.39 818,825 C821.17,861.38 818.4751,895.2634 814.9051,923.4534" fill="none" id="service-to-devices_component" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="813.9,931.39,817.8813,923.8303,811.9289,923.0765,813.9,931.39" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="26.3262" x="820" y="851.1387">Run</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="846.3262" y="851.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72.7383" x="850.5039" y="851.1387">commands</text></g><!--link service to repository--><g class="link" data-entity-1="ent0011" data-entity-2="ent0010" data-link-type="dependency" data-source-line="1706" id="lnk23"><path d="M722.68,795.1 C710.91,804.54 699.3,814.66 689,825 C672.19,841.88 671.8,849.33 657,868 C640.07,889.36 625.5701,906.6792 609.8301,925.0192" fill="none" id="service-to-repository" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="604.62,931.09,612.1067,926.973,607.5536,923.0654,604.62,931.09" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="89.877" x="704.7422" y="837.1387">Reads\Writes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="77.2969" x="690" y="851.1074">commands,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="767.2969" y="851.1074">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.8867" x="771.4746" y="851.1074">reads</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.0586" x="706.8018" y="865.0762">devices</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="757.8604" y="865.0762">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="30.5215" x="762.0381" y="865.0762">data</text></g><!--reverse link auth_component to api_component--><g class="link" data-entity-1="ent0008" data-entity-2="ent0007" data-link-type="dependency" data-source-line="1758" id="lnk25"><path d="M786.97,540.5 C746.13,540.5 704.97,540.5 663.88,540.5" fill="none" id="auth_component-backto-api_component" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="794.97,540.5,786.97,537.5,786.97,543.5,794.97,540.5" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="40.582" x="681.75" y="520.6387">Check</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="722.332" y="520.6387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="50.4668" x="726.5098" y="520.6387">session</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69.2344" x="694.7461" y="534.6074">expiration</text></g><!--link sh_devices_updates_queue to message_handler--><g class="link" data-entity-1="ent0026" data-entity-2="ent0009" data-link-type="dependency" data-source-line="1706" id="lnk27"><path d="M408.15,593.25 C445.61,626.03 487.2798,662.4915 521.7198,692.6315" fill="none" id="sh_devices_updates_queue-to-message_handler" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="527.74,697.9,523.6955,690.3739,519.7441,694.889,527.74,697.9" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="33.0234" x="475" y="635.1387">Push</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="508.0234" y="635.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.0586" x="512.2012" y="635.1387">devices</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="563.2598" y="635.1387">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.8379" x="567.4375" y="635.1387">updates</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="44.6074" x="526.334" y="649.1074">[AMQP]</text></g><?plantuml-src TLHDRzim3BttLx2vh0KwzDBJC0n8qmuTrWpvt2u33DbcQw6sv4foqc3eVn_rOKTst9nYIdnyZtpYkIcmGfZT9AcIUm5FIbRmTNPpxUBwszav5rdPvEY2T6qcXS4tCtx0k40rTbJLKg2WhBFrGHkialitSw4hfaoIuuvdU0MJjVq4_wadWm2OWXd8c80KWGjjM5bY3aP2er5zqb18-WDCvEvI9gkg4JnZ1c7FJG4Uwy5Tqex2vB8ZSoiRaJDry8mSKk8lTInSvkGI_fq1_Jgj5xf86awtRgbxH0IcTMsfTnU-m7TbEqQyzfW2yySB9NSyHmskOE1EwKuwoJEedXY9td7cqbAFJfHxrUzIMr-ZrbmAdRpi2Fed7Zx_PcM3SCSCIncnxlDPOSvzUurKL8rbXk_GjP7u12pRd5wfg4T5uZjKCS6UoIJ249ZlxBmBmNJnOtBfk-M1WWKkMCsJhFsYp6dDeMG7KcTXQ80baNhOR1QWyBL1RJeo0vp657qW2j0__cJ7JYAWExJ8MwUF3Uw4ZlQHoVUQP2I58wCeUUuZv38VYga6mq9Jv-Gs3I7x0zOAQwavTVv047SXzHYqmEtSQ39qg4Sf1gzqZJ_EehMHHLerGhkdG5Jr5IZtsMX3J_mOrMo79-5nya5gh-kjXZQ6flMRBBlc10tlO_RrPihJIFd0iGkfpRF2zV8nuAomR1_Uc9iosWtEuTP5rwlxzIRAYmVGhxv2bklhFugRi7xYUidZcFh11hESbIpZ7UOep9URY4AoFV7koIjsNDeXMDe3dSVvhztuxDvJyRGZnITsxdbm6smRrYnziBZBRPsnqPEznkfrERqwJj5VtztOapRSlQ5GFMhwGFV9evyLcBsqQmlmhUOgVjXzmoqRRD0wfrKJtcpoQWyYCuUcs06w7DgQB4svcIzjw1VkMyPNm-T_3EHOOiGaUFQ3ogShPz7eOWXkYq_domL1lly7?></g></svg>