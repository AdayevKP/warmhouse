<?plantuml 1.2026.0?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="496px" preserveAspectRatio="none" style="width:1000px;height:496px;background:#FFFFFF;" version="1.1" viewBox="0 0 1000 496" width="1000px" zoomAndPan="magnify"><title>Devices-management-container/Devices-component</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="412.043" x="287.2467" y="22.9951">Devices-management-container/Devices-component</text></g><!--class DevicesComponent--><g class="entity" data-qualified-name="DevicesComponent" data-source-line="3" id="ent0002"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="448.6729" x="176.66" y="44.2969"/><ellipse cx="328.5204" cy="60.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M331.4891,65.9375 Q330.911,66.2344 330.2704,66.375 Q329.6297,66.5313 328.9266,66.5313 Q326.4266,66.5313 325.0985,64.8906 Q323.786,63.2344 323.786,60.1094 Q323.786,56.9844 325.0985,55.3281 Q326.4266,53.6719 328.9266,53.6719 Q329.6297,53.6719 330.2704,53.8281 Q330.9266,53.9844 331.4891,54.2813 L331.4891,57 Q330.8641,56.4219 330.2704,56.1563 Q329.6766,55.875 329.0516,55.875 Q327.7079,55.875 327.0204,56.9531 Q326.3329,58.0156 326.3329,60.1094 Q326.3329,62.2031 327.0204,63.2813 Q327.7079,64.3438 329.0516,64.3438 Q329.6766,64.3438 330.2704,64.0781 Q330.8641,63.7969 331.4891,63.2188 L331.4891,65.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.4521" x="349.0204" y="65.1436">DevicesComponent</text><line style="stroke:#181818;stroke-width:0.5;" x1="177.66" x2="624.3329" y1="76.2969" y2="76.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="177.66" x2="624.3329" y1="84.2969" y2="84.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="354.8467" x="182.66" y="101.292">connect_device(device_connection_info: ConnInfo)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250.1201" x="182.66" y="117.5889">disconnect_device(device_id: UUID)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="436.6729" x="182.66" y="133.8857">update_device_connection(device_id: UUID, payload: Payload)</text></g><!--class DevicesRepository--><g class="entity" data-qualified-name="DevicesRepository" data-source-line="9" id="ent0003"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="336.1396" x="85.16" y="392.2969"/><ellipse cx="183.8573" cy="408.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M186.826,413.9375 Q186.2479,414.2344 185.6073,414.375 Q184.9666,414.5313 184.2635,414.5313 Q181.7635,414.5313 180.4354,412.8906 Q179.1229,411.2344 179.1229,408.1094 Q179.1229,404.9844 180.4354,403.3281 Q181.7635,401.6719 184.2635,401.6719 Q184.9666,401.6719 185.6073,401.8281 Q186.2635,401.9844 186.826,402.2813 L186.826,405 Q186.201,404.4219 185.6073,404.1563 Q185.0135,403.875 184.3885,403.875 Q183.0448,403.875 182.3573,404.9531 Q181.6698,406.0156 181.6698,408.1094 Q181.6698,410.2031 182.3573,411.2813 Q183.0448,412.3438 184.3885,412.3438 Q185.0135,412.3438 185.6073,412.0781 Q186.201,411.7969 186.826,411.2188 L186.826,413.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.2451" x="204.3573" y="413.1436">DevicesRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="86.16" x2="420.2996" y1="424.2969" y2="424.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="86.16" x2="420.2996" y1="432.2969" y2="432.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.2305" x="91.16" y="449.292">get_device(device_id: UUID)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324.1396" x="91.16" y="465.5889">update_device(device_id: UUID, body: Device)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.9316" x="91.16" y="481.8857">add_device(body: Device)</text></g><!--class DevicesAdapter--><g class="entity" data-qualified-name="DevicesAdapter" data-source-line="15" id="ent0004"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333.9316" x="80.16" y="218.2969"/><ellipse cx="187.3954" cy="234.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M190.3641,239.9375 Q189.786,240.2344 189.1454,240.375 Q188.5047,240.5313 187.8016,240.5313 Q185.3016,240.5313 183.9735,238.8906 Q182.661,237.2344 182.661,234.1094 Q182.661,230.9844 183.9735,229.3281 Q185.3016,227.6719 187.8016,227.6719 Q188.5047,227.6719 189.1454,227.8281 Q189.8016,227.9844 190.3641,228.2813 L190.3641,231 Q189.7391,230.4219 189.1454,230.1563 Q188.5516,229.875 187.9266,229.875 Q186.5829,229.875 185.8954,230.9531 Q185.2079,232.0156 185.2079,234.1094 Q185.2079,236.2031 185.8954,237.2813 Q186.5829,238.3438 187.9266,238.3438 Q188.5516,238.3438 189.1454,238.0781 Q189.7391,237.7969 190.3641,237.2188 L190.3641,239.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.9609" x="207.8954" y="239.1436">DevicesAdapter</text><line style="stroke:#181818;stroke-width:0.5;" x1="81.16" x2="413.0916" y1="250.2969" y2="250.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="81.16" x2="413.0916" y1="258.2969" y2="258.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301.8613" x="86.16" y="275.292">connect_device(connection_info: ConnInfo)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="302.2988" x="86.16" y="291.5889">get_device_info(connection_info: ConnInfo)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321.9316" x="86.16" y="307.8857">disconnect_device(connection_info: ConnInfo)</text></g><!--class DevicesMessagesHandler--><g class="entity" data-qualified-name="DevicesMessagesHandler" data-source-line="21" id="ent0005"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210.9512" x="449.66" y="234.7969"/><ellipse cx="464.66" cy="250.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M467.6287,256.4375 Q467.0506,256.7344 466.41,256.875 Q465.7694,257.0313 465.0662,257.0313 Q462.5662,257.0313 461.2381,255.3906 Q459.9256,253.7344 459.9256,250.6094 Q459.9256,247.4844 461.2381,245.8281 Q462.5662,244.1719 465.0662,244.1719 Q465.7694,244.1719 466.41,244.3281 Q467.0662,244.4844 467.6287,244.7813 L467.6287,247.5 Q467.0037,246.9219 466.41,246.6563 Q465.8162,246.375 465.1912,246.375 Q463.8475,246.375 463.16,247.4531 Q462.4725,248.5156 462.4725,250.6094 Q462.4725,252.7031 463.16,253.7813 Q463.8475,254.8438 465.1912,254.8438 Q465.8162,254.8438 466.41,254.5781 Q467.0037,254.2969 467.6287,253.7188 L467.6287,256.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.9512" x="478.66" y="255.6436">DevicesMessagesHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="450.66" x2="659.6112" y1="266.7969" y2="266.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="450.66" x2="659.6112" y1="274.7969" y2="274.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2461" x="455.66" y="291.792">handle_device_updates()</text></g><!--class Outbox--><g class="entity" data-qualified-name="Outbox" data-source-line="25" id="ent0006"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="295.1104" x="695.66" y="234.7969"/><ellipse cx="813.4056" cy="250.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M816.3744,256.4375 Q815.7962,256.7344 815.1556,256.875 Q814.515,257.0313 813.8119,257.0313 Q811.3119,257.0313 809.9837,255.3906 Q808.6712,253.7344 808.6712,250.6094 Q808.6712,247.4844 809.9837,245.8281 Q811.3119,244.1719 813.8119,244.1719 Q814.515,244.1719 815.1556,244.3281 Q815.8119,244.4844 816.3744,244.7813 L816.3744,247.5 Q815.7494,246.9219 815.1556,246.6563 Q814.5619,246.375 813.9369,246.375 Q812.5931,246.375 811.9056,247.4531 Q811.2181,248.5156 811.2181,250.6094 Q811.2181,252.7031 811.9056,253.7813 Q812.5931,254.8438 813.9369,254.8438 Q814.5619,254.8438 815.1556,254.5781 Q815.7494,254.2969 816.3744,253.7188 L816.3744,256.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.1191" x="833.9056" y="255.6436">Outbox</text><line style="stroke:#181818;stroke-width:0.5;" x1="696.66" x2="989.7704" y1="266.7969" y2="266.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="696.66" x2="989.7704" y1="274.7969" y2="274.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.1104" x="701.66" y="291.792">send_event(device_id: UUID, body: json)</text></g><!--class MessagesHandler--><g class="entity" data-qualified-name="MessagesHandler" data-source-line="29" id="ent0007"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="295.1104" x="695.66" y="408.7969"/><ellipse cx="777.076" cy="424.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M780.0448,430.4375 Q779.4666,430.7344 778.826,430.875 Q778.1854,431.0313 777.4823,431.0313 Q774.9823,431.0313 773.6541,429.3906 Q772.3416,427.7344 772.3416,424.6094 Q772.3416,421.4844 773.6541,419.8281 Q774.9823,418.1719 777.4823,418.1719 Q778.1854,418.1719 778.826,418.3281 Q779.4823,418.4844 780.0448,418.7813 L780.0448,421.5 Q779.4198,420.9219 778.826,420.6563 Q778.2323,420.375 777.6073,420.375 Q776.2635,420.375 775.576,421.4531 Q774.8885,422.5156 774.8885,424.6094 Q774.8885,426.7031 775.576,427.7813 Q776.2635,428.8438 777.6073,428.8438 Q778.2323,428.8438 778.826,428.5781 Q779.4198,428.2969 780.0448,427.7188 L780.0448,430.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7783" x="797.576" y="429.6436">MessagesHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="696.66" x2="989.7704" y1="440.7969" y2="440.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="696.66" x2="989.7704" y1="448.7969" y2="448.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.1104" x="701.66" y="465.792">send_event(device_id: UUID, body: json)</text></g><!--link DevicesComponent to DevicesRepository--><g class="link" data-entity-1="ent0002" data-entity-2="ent0003" data-link-type="dependency" data-source-line="33" id="lnk8"><path codeLine="33" d="M176.26,122.0169 C119.94,140.3569 65.76,170.1369 31.16,218.2969 C6,253.3069 9.37,278.0969 31.16,315.2969 C50.64,348.5669 77.3746,370.7218 111.0846,389.2918" fill="none" id="DevicesComponent-to-DevicesRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="116.34,392.1869,110.387,384.3407,111.9605,389.7743,106.5269,391.3479,116.34,392.1869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="32.16" y="271.3638">uses</text></g><!--link DevicesComponent to DevicesAdapter--><g class="link" data-entity-1="ent0002" data-entity-2="ent0004" data-link-type="dependency" data-source-line="34" id="lnk9"><path codeLine="34" d="M358.26,141.7069 C336.9,165.5669 315.1516,189.8462 293.8216,213.6762" fill="none" id="DevicesComponent-to-DevicesAdapter" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="289.82,218.1469,298.8029,214.1086,293.1547,214.4213,292.842,208.7731,289.82,218.1469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="330.16" y="184.3638">uses</text></g><!--link DevicesComponent to Outbox--><g class="link" data-entity-1="ent0002" data-entity-2="ent0006" data-link-type="dependency" data-source-line="35" id="lnk10"><path codeLine="35" d="M523.4,141.3669 C599.92,171.1469 690.7383,206.4913 757.5883,232.5013" fill="none" id="DevicesComponent-to-Outbox" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="763.18,234.6769,756.2429,227.6857,758.5203,232.8639,753.3421,235.1412,763.18,234.6769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.3765" x="636.16" y="184.3638">publush device update</text></g><!--link Outbox to DevicesRepository--><g class="link" data-entity-1="ent0006" data-entity-2="ent0003" data-link-type="dependency" data-source-line="36" id="lnk11"><path codeLine="36" d="M736.65,298.8469 C647.37,324.8769 524.2001,360.7773 421.9301,390.5973" fill="none" id="Outbox-to-DevicesRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="416.17,392.2769,425.9299,393.5976,420.9701,390.8773,423.6905,385.9175,416.17,392.2769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.6138" x="566.16" y="358.3638">gets not published updates</text></g><!--link Outbox to MessagesHandler--><g class="link" data-entity-1="ent0006" data-entity-2="ent0007" data-link-type="dependency" data-source-line="37" id="lnk12"><path codeLine="37" d="M843.16,298.9469 C843.16,330.0169 843.16,371.4969 843.16,402.5869" fill="none" id="Outbox-to-MessagesHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="843.16,408.5869,847.16,399.5869,843.16,403.5869,839.16,399.5869,843.16,408.5869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.3765" x="844.16" y="358.3638">publush device update</text></g><!--reverse link DevicesComponent to DevicesMessagesHandler--><g class="link" data-entity-1="ent0002" data-entity-2="ent0005" data-link-type="dependency" data-source-line="38" id="lnk13"><path codeLine="38" d="M448.0523,146.1769 C474.6623,175.8969 504.08,208.7569 527.29,234.6669" fill="none" id="DevicesComponent-backto-DevicesMessagesHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="444.05,141.7069,447.0734,151.0802,447.3853,145.4319,453.0335,145.7438,444.05,141.7069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="484.16" y="184.3638">uses</text></g><?plantuml-src bL9DIyGm4BttL-JO1OFt8eBi7jo3ACAUIzgCkv5s9dJInIB-TxDjghLVkAUcUU_DlBmPPrm1OWTdamFBKg4wGWdeP4xeb46eRdimfz8IUan4KLuevbws_G4-8o6y425tgMx1kFkauTOGfWRVA15RVx7tfusNQCFpAgCJSJZiTnTIRRLoa4xgZRatmggc8EL_Nxh39leQENu5IsmSLKrh-GZ_RZpjbf5kab3uGbTQzzo_qDZ4WrRMGJKNscfQlsvRCBuosXNwsE4JCFjzu4U5kWXEJ-svDz1bm_50-roxZ3vQBWFg5Cv-CvPYUsV2WNQkuHL59lievVtCo1DHC_0gkv_D6ZKyD16spegQJwAp5_Ob2l2I1Jz55aYkLHi-WGv27Yh7WImrcnYyat9XYjsJlW40?></g></svg>